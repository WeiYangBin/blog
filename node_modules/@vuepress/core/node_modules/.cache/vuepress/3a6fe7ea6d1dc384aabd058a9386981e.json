{"remainingRequest":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/vuepress-plugin-comment/Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/vuepress-plugin-comment/Comment.vue","mtime":1563358168442},{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/cache-loader/dist/cjs.js","mtime":1563334124188},{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/babel-loader/lib/index.js","mtime":1557904571904},{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/cache-loader/dist/cjs.js","mtime":1563334124188},{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/vue-loader/lib/index.js","mtime":1551424474604}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvemhhbnpoaWZhbmcvbXlfZGV2ZWxvcC9naXQtcmVwb3NpdG9yeS9ibG9nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IGtleXMucHVzaC5hcHBseShrZXlzLCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCkpOyB9IGlmIChlbnVtZXJhYmxlT25seSkga2V5cyA9IGtleXMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCmltcG9ydCB7IHByb3ZpZGVyLCByZW5kZXJDb25maWcsIGxvYWRTY3JpcHQgfSBmcm9tICIuL3V0aWwiOwp2YXIgY29tbWVudERvbUlEID0gJ3Z1ZXByZXNzLXBsdWdpbi1jb21tZW50JzsKdmFyIHRpbWVyID0gbnVsbDsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBmcm9udG1hdHRlciA9IF9vYmplY3RTcHJlYWQoewogICAgICAgIHRvOiB7fSwKICAgICAgICBmcm9tOiB7fQogICAgICB9LCBfdGhpcy4kZnJvbnRtYXR0ZXIpOwoKICAgICAgY2xlYXIoKSAmJiBuZWVkQ29tbWVudChmcm9udG1hdHRlcikgJiYgcmVuZGVyQ29tbWVudChmcm9udG1hdHRlcik7CiAgICB9LCAxMDAwKTsKICAgIHRoaXMuJHJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKHRvLCBmcm9tKSB7CiAgICAgIGlmICh0byAmJiBmcm9tICYmIHRvLnBhdGggPT09IGZyb20ucGF0aCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGZyb250bWF0dGVyID0gX29iamVjdFNwcmVhZCh7CiAgICAgICAgdG86IHRvLAogICAgICAgIGZyb206IGZyb20KICAgICAgfSwgX3RoaXMuJGZyb250bWF0dGVyKTsKCiAgICAgIGNsZWFyKCkgJiYgbmVlZENvbW1lbnQoZnJvbnRtYXR0ZXIpICYmIHJlbmRlckNvbW1lbnQoZnJvbnRtYXR0ZXIpOwogICAgfSk7CiAgfQp9OwovKioNCiAqIENsZWFyIGxhc3QgcGFnZSBjb21tZW50IGRvbQ0KICovCgpmdW5jdGlvbiBjbGVhcihmcm9udG1hdHRlcikgewogIHN3aXRjaCAoQ09NTUVOVF9DSE9PU0VOKSB7CiAgICBjYXNlICdnaXRhbGsnOgogICAgICByZXR1cm4gcHJvdmlkZXIuZ2l0YWxrLmNsZWFyKGNvbW1lbnREb21JRCk7CgogICAgY2FzZSAndmFsaW5lJzoKICAgICAgdmFyIGVsID0gQ09NTUVOVF9PUFRJT05TLmVsIHx8IGNvbW1lbnREb21JRDsKCiAgICAgIGlmIChlbC5zdGFydHNXaXRoKCcjJykpIHsKICAgICAgICBlbCA9IGVsLnNsaWNlKDEpOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhlbCk7CiAgICAgIHJldHVybiBwcm92aWRlci52YWxpbmUuY2xlYXIoZWwpOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiBmYWxzZTsKICB9Cn0KLyoqDQogKiBDaGVjayBpZiBjdXJyZW50IHBhZ2UgbmVlZHMgcmVuZGVyIGNvbW1lbnQNCiAqLwoKCmZ1bmN0aW9uIG5lZWRDb21tZW50KGZyb250bWF0dGVyKSB7CiAgcmV0dXJuIGZyb250bWF0dGVyLmNvbW1lbnQgIT09IGZhbHNlICYmIGZyb250bWF0dGVyLmNvbW1lbnRzICE9PSBmYWxzZTsKfQovKioNCiAqIFJlbmRlciBjb21tZW50IGRvbSBhbmQgYXBwZW5kIGl0IHRvIGNvbnRhaW5lcg0KICovCgoKZnVuY3Rpb24gcmVuZGVyQ29tbWVudChmcm9udG1hdHRlcikgewogIGNsZWFyVGltZW91dCh0aW1lcik7CiAgdmFyIHBhcmVudERPTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoQ09NTUVOVF9DT05UQUlORVIpOwoKICBpZiAoIXBhcmVudERPTSkgewogICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHJlbmRlckNvbW1lbnQoZnJvbnRtYXR0ZXIpOwogICAgfSwgMjAwKTsKICAgIHJldHVybjsKICB9CgogIHN3aXRjaCAoQ09NTUVOVF9DSE9PU0VOKSB7CiAgICBjYXNlICdnaXRhbGsnOgogICAgICByZXR1cm4gcHJvdmlkZXIuZ2l0YWxrLnJlbmRlcihmcm9udG1hdHRlciwgY29tbWVudERvbUlEKTsKCiAgICBjYXNlICd2YWxpbmUnOgogICAgICB2YXIgZWwgPSBDT01NRU5UX09QVElPTlMuZWwgfHwgY29tbWVudERvbUlEOwoKICAgICAgaWYgKGVsLnN0YXJ0c1dpdGgoJyMnKSkgewogICAgICAgIGVsID0gZWwuc2xpY2UoMSk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKGVsKTsKICAgICAgcmV0dXJuIHByb3ZpZGVyLnZhbGluZS5yZW5kZXIoZnJvbnRtYXR0ZXIsIGVsKTsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gZmFsc2U7CiAgfQp9"},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAKA,SACA,QADA,EAEA,YAFA,EAGA,UAHA;AAMA,IAAA,YAAA,GAAA,yBAAA;AACA,IAAA,KAAA,GAAA,IAAA;AAEA,eAAA;AACA,EAAA,OADA,qBACA;AAAA;;AACA,IAAA,KAAA,GAAA,UAAA,CAAA,YAAA;AACA,UAAA,WAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,SAGA,KAAA,CAAA,YAHA,CAAA;;AAKA,MAAA,KAAA,MAAA,WAAA,CAAA,WAAA,CAAA,IAAA,aAAA,CAAA,WAAA,CAAA;AACA,KAPA,EAOA,IAPA,CAAA;AASA,SAAA,OAAA,CAAA,SAAA,CAAA,UAAA,EAAA,EAAA,IAAA,EAAA;AACA,UAAA,EAAA,IAAA,IAAA,IAAA,EAAA,CAAA,IAAA,KAAA,IAAA,CAAA,IAAA,EAAA;AACA;AACA;;AACA,UAAA,WAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,SAGA,KAAA,CAAA,YAHA,CAAA;;AAKA,MAAA,KAAA,MAAA,WAAA,CAAA,WAAA,CAAA,IAAA,aAAA,CAAA,WAAA,CAAA;AACA,KAVA;AAWA;AAtBA,CAAA;AAyBA;;;;AAGA,SAAA,KAAA,CAAA,WAAA,EAAA;AACA,UAAA,eAAA;AACA,SAAA,QAAA;AACA,aAAA,QAAA,CAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA;;AACA,SAAA,QAAA;AACA,UAAA,EAAA,GAAA,eAAA,CAAA,EAAA,IAAA,YAAA;;AACA,UAAA,EAAA,CAAA,UAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,EAAA,GAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EAAA,CAAA;;AACA;AAAA,aAAA,KAAA;AAVA;AAYA;AAEA;;;;;AAGA,SAAA,WAAA,CAAA,WAAA,EAAA;AACA,SAAA,WAAA,CAAA,OAAA,KAAA,KAAA,IAAA,WAAA,CAAA,QAAA,KAAA,KAAA;AACA;AAEA;;;;;AAGA,SAAA,aAAA,CAAA,WAAA,EAAA;AACA,EAAA,YAAA,CAAA,KAAA,CAAA;AAEA,MAAA,SAAA,GAAA,QAAA,CAAA,aAAA,CAAA,iBAAA,CAAA;;AACA,MAAA,CAAA,SAAA,EAAA;AACA,IAAA,KAAA,GAAA,UAAA,CAAA;AAAA,aAAA,aAAA,CAAA,WAAA,CAAA;AAAA,KAAA,EAAA,GAAA,CAAA;AACA;AACA;;AAEA,UAAA,eAAA;AACA,SAAA,QAAA;AACA,aAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,YAAA,CAAA;;AACA,SAAA,QAAA;AACA,UAAA,EAAA,GAAA,eAAA,CAAA,EAAA,IAAA,YAAA;;AACA,UAAA,EAAA,CAAA,UAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,EAAA,GAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,EAAA,CAAA;;AACA;AAAA,aAAA,KAAA;AAVA;AAYA","sourcesContent":["<template>\r\n  <div></div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  provider,\r\n  renderConfig,\r\n  loadScript,\r\n} from './util'\r\n\r\nconst commentDomID = 'vuepress-plugin-comment' \r\nlet timer = null\r\n\r\nexport default {\r\n  mounted () {\r\n    timer = setTimeout(() => {\r\n      const frontmatter = {\r\n        to: {},\r\n        from: {},\r\n        ...this.$frontmatter\r\n      }\r\n      clear() && needComment(frontmatter) && renderComment(frontmatter)\r\n    }, 1000)\r\n\r\n    this.$router.afterEach((to, from) => {\r\n      if (to && from && to.path === from.path) {\r\n        return\r\n      }\r\n      const frontmatter = {\r\n        to,\r\n        from,\r\n        ...this.$frontmatter\r\n      }\r\n      clear() && needComment(frontmatter) && renderComment(frontmatter)\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Clear last page comment dom\r\n */\r\nfunction clear (frontmatter) {\r\n  switch (COMMENT_CHOOSEN) {\r\n    case 'gitalk': \r\n      return provider.gitalk.clear(commentDomID)\r\n    case 'valine': \r\n      let el = COMMENT_OPTIONS.el || commentDomID\r\n      if (el.startsWith('#')) {\r\n        el = el.slice(1)\r\n      }\r\n      console.log(el)\r\n      return provider.valine.clear(el)\r\n    default: return false\r\n  }\r\n}\r\n\r\n/**\r\n * Check if current page needs render comment\r\n */\r\nfunction needComment (frontmatter) {\r\n  return frontmatter.comment !== false && frontmatter.comments !== false\r\n}\r\n\r\n/**\r\n * Render comment dom and append it to container\r\n */\r\nfunction renderComment (frontmatter) {\r\n  clearTimeout(timer)\r\n\r\n  const parentDOM = document.querySelector(COMMENT_CONTAINER)\r\n  if (!parentDOM) {\r\n    timer = setTimeout(() => renderComment(frontmatter), 200)\r\n    return \r\n  }\r\n\r\n  switch (COMMENT_CHOOSEN) {\r\n    case 'gitalk': \r\n      return provider.gitalk.render(frontmatter, commentDomID)\r\n    case 'valine': \r\n      let el = COMMENT_OPTIONS.el || commentDomID\r\n      if (el.startsWith('#')) {\r\n        el = el.slice(1)\r\n      }\r\n      console.log(el)\r\n      return provider.valine.render(frontmatter, el)\r\n    default: return false\r\n  }\r\n}\r\n</script>"],"sourceRoot":"node_modules/vuepress-plugin-comment"}]}