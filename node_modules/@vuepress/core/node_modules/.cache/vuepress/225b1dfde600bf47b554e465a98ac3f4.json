{"remainingRequest":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/vuepress-plugin-comment/Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/vuepress-plugin-comment/Comment.vue","mtime":1563358168442},{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/cache-loader/dist/cjs.js","mtime":1563334124188},{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/babel-loader/lib/index.js","mtime":1557904571904},{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/cache-loader/dist/cjs.js","mtime":1563334124188},{"path":"/Users/zhanzhifang/my_develop/git-repository/blog/node_modules/vue-loader/lib/index.js","mtime":1551424474604}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBwcm92aWRlciwNCiAgcmVuZGVyQ29uZmlnLA0KICBsb2FkU2NyaXB0LA0KfSBmcm9tICcuL3V0aWwnDQoNCmNvbnN0IGNvbW1lbnREb21JRCA9ICd2dWVwcmVzcy1wbHVnaW4tY29tbWVudCcgDQpsZXQgdGltZXIgPSBudWxsDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbW91bnRlZCAoKSB7DQogICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgIGNvbnN0IGZyb250bWF0dGVyID0gew0KICAgICAgICB0bzoge30sDQogICAgICAgIGZyb206IHt9LA0KICAgICAgICAuLi50aGlzLiRmcm9udG1hdHRlcg0KICAgICAgfQ0KICAgICAgY2xlYXIoKSAmJiBuZWVkQ29tbWVudChmcm9udG1hdHRlcikgJiYgcmVuZGVyQ29tbWVudChmcm9udG1hdHRlcikNCiAgICB9LCAxMDAwKQ0KDQogICAgdGhpcy4kcm91dGVyLmFmdGVyRWFjaCgodG8sIGZyb20pID0+IHsNCiAgICAgIGlmICh0byAmJiBmcm9tICYmIHRvLnBhdGggPT09IGZyb20ucGF0aCkgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGNvbnN0IGZyb250bWF0dGVyID0gew0KICAgICAgICB0bywNCiAgICAgICAgZnJvbSwNCiAgICAgICAgLi4udGhpcy4kZnJvbnRtYXR0ZXINCiAgICAgIH0NCiAgICAgIGNsZWFyKCkgJiYgbmVlZENvbW1lbnQoZnJvbnRtYXR0ZXIpICYmIHJlbmRlckNvbW1lbnQoZnJvbnRtYXR0ZXIpDQogICAgfSkNCiAgfQ0KfQ0KDQovKioNCiAqIENsZWFyIGxhc3QgcGFnZSBjb21tZW50IGRvbQ0KICovDQpmdW5jdGlvbiBjbGVhciAoZnJvbnRtYXR0ZXIpIHsNCiAgc3dpdGNoIChDT01NRU5UX0NIT09TRU4pIHsNCiAgICBjYXNlICdnaXRhbGsnOiANCiAgICAgIHJldHVybiBwcm92aWRlci5naXRhbGsuY2xlYXIoY29tbWVudERvbUlEKQ0KICAgIGNhc2UgJ3ZhbGluZSc6IA0KICAgICAgbGV0IGVsID0gQ09NTUVOVF9PUFRJT05TLmVsIHx8IGNvbW1lbnREb21JRA0KICAgICAgaWYgKGVsLnN0YXJ0c1dpdGgoJyMnKSkgew0KICAgICAgICBlbCA9IGVsLnNsaWNlKDEpDQogICAgICB9DQogICAgICBjb25zb2xlLmxvZyhlbCkNCiAgICAgIHJldHVybiBwcm92aWRlci52YWxpbmUuY2xlYXIoZWwpDQogICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlDQogIH0NCn0NCg0KLyoqDQogKiBDaGVjayBpZiBjdXJyZW50IHBhZ2UgbmVlZHMgcmVuZGVyIGNvbW1lbnQNCiAqLw0KZnVuY3Rpb24gbmVlZENvbW1lbnQgKGZyb250bWF0dGVyKSB7DQogIHJldHVybiBmcm9udG1hdHRlci5jb21tZW50ICE9PSBmYWxzZSAmJiBmcm9udG1hdHRlci5jb21tZW50cyAhPT0gZmFsc2UNCn0NCg0KLyoqDQogKiBSZW5kZXIgY29tbWVudCBkb20gYW5kIGFwcGVuZCBpdCB0byBjb250YWluZXINCiAqLw0KZnVuY3Rpb24gcmVuZGVyQ29tbWVudCAoZnJvbnRtYXR0ZXIpIHsNCiAgY2xlYXJUaW1lb3V0KHRpbWVyKQ0KDQogIGNvbnN0IHBhcmVudERPTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoQ09NTUVOVF9DT05UQUlORVIpDQogIGlmICghcGFyZW50RE9NKSB7DQogICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHJlbmRlckNvbW1lbnQoZnJvbnRtYXR0ZXIpLCAyMDApDQogICAgcmV0dXJuIA0KICB9DQoNCiAgc3dpdGNoIChDT01NRU5UX0NIT09TRU4pIHsNCiAgICBjYXNlICdnaXRhbGsnOiANCiAgICAgIHJldHVybiBwcm92aWRlci5naXRhbGsucmVuZGVyKGZyb250bWF0dGVyLCBjb21tZW50RG9tSUQpDQogICAgY2FzZSAndmFsaW5lJzogDQogICAgICBsZXQgZWwgPSBDT01NRU5UX09QVElPTlMuZWwgfHwgY29tbWVudERvbUlEDQogICAgICBpZiAoZWwuc3RhcnRzV2l0aCgnIycpKSB7DQogICAgICAgIGVsID0gZWwuc2xpY2UoMSkNCiAgICAgIH0NCiAgICAgIGNvbnNvbGUubG9nKGVsKQ0KICAgICAgcmV0dXJuIHByb3ZpZGVyLnZhbGluZS5yZW5kZXIoZnJvbnRtYXR0ZXIsIGVsKQ0KICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZQ0KICB9DQp9DQo="},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"node_modules/vuepress-plugin-comment","sourcesContent":["<template>\r\n  <div></div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  provider,\r\n  renderConfig,\r\n  loadScript,\r\n} from './util'\r\n\r\nconst commentDomID = 'vuepress-plugin-comment' \r\nlet timer = null\r\n\r\nexport default {\r\n  mounted () {\r\n    timer = setTimeout(() => {\r\n      const frontmatter = {\r\n        to: {},\r\n        from: {},\r\n        ...this.$frontmatter\r\n      }\r\n      clear() && needComment(frontmatter) && renderComment(frontmatter)\r\n    }, 1000)\r\n\r\n    this.$router.afterEach((to, from) => {\r\n      if (to && from && to.path === from.path) {\r\n        return\r\n      }\r\n      const frontmatter = {\r\n        to,\r\n        from,\r\n        ...this.$frontmatter\r\n      }\r\n      clear() && needComment(frontmatter) && renderComment(frontmatter)\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Clear last page comment dom\r\n */\r\nfunction clear (frontmatter) {\r\n  switch (COMMENT_CHOOSEN) {\r\n    case 'gitalk': \r\n      return provider.gitalk.clear(commentDomID)\r\n    case 'valine': \r\n      let el = COMMENT_OPTIONS.el || commentDomID\r\n      if (el.startsWith('#')) {\r\n        el = el.slice(1)\r\n      }\r\n      console.log(el)\r\n      return provider.valine.clear(el)\r\n    default: return false\r\n  }\r\n}\r\n\r\n/**\r\n * Check if current page needs render comment\r\n */\r\nfunction needComment (frontmatter) {\r\n  return frontmatter.comment !== false && frontmatter.comments !== false\r\n}\r\n\r\n/**\r\n * Render comment dom and append it to container\r\n */\r\nfunction renderComment (frontmatter) {\r\n  clearTimeout(timer)\r\n\r\n  const parentDOM = document.querySelector(COMMENT_CONTAINER)\r\n  if (!parentDOM) {\r\n    timer = setTimeout(() => renderComment(frontmatter), 200)\r\n    return \r\n  }\r\n\r\n  switch (COMMENT_CHOOSEN) {\r\n    case 'gitalk': \r\n      return provider.gitalk.render(frontmatter, commentDomID)\r\n    case 'valine': \r\n      let el = COMMENT_OPTIONS.el || commentDomID\r\n      if (el.startsWith('#')) {\r\n        el = el.slice(1)\r\n      }\r\n      console.log(el)\r\n      return provider.valine.render(frontmatter, el)\r\n    default: return false\r\n  }\r\n}\r\n</script>"]}]}